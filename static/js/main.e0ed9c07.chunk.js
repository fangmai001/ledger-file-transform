(this["webpackJsonpledger-file-transform"]=this["webpackJsonpledger-file-transform"]||[]).push([[0],{277:function(e,t,n){},278:function(e,t,n){},326:function(e,t){},336:function(e,t,n){},350:function(e,t,n){},352:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(48),s=n.n(c),i=(n(277),n(278),n(256)),o=n(257),j=n(270),u=n(267),l=n(358),d=n(362),h=n(122),b=n(268),O=n(157),x=n(107),f=n(52),g=n(361),m=n(359),p=n(88),v=n(363),w=n(360),y=n(364),A=n(365),C=n(366),D=n(271),F=n(105),N=n.n(F),I=n(121),_=n.n(I),k=n(258),E=n.n(k);N.a.locale("zh-tw");var H=function(e,t,n){var a=new _.a(e,t).map((function(e){return e.set("\u91d1\u984d",parseFloat(e.get("\u91d1\u984d")))})),r=new _.a([["","","","\u65e9\u9910",a.where((function(e){return"\u65e9\u9910"===e.get("\u985e\u5225")})).stat.sum("\u91d1\u984d"),""],["","","","\u5348\u9910",a.where((function(e){return"\u5348\u9910"===e.get("\u985e\u5225")})).stat.sum("\u91d1\u984d"),""],["","","","\u665a\u9910",a.where((function(e){return"\u665a\u9910"===e.get("\u985e\u5225")})).stat.sum("\u91d1\u984d"),""]],t),c=a.where((function(e){return"\u751f\u6d3b\u8cbb"===e.get("\u5e33\u6236")&&"\u65e9\u9910"!==e.get("\u985e\u5225")&&"\u5348\u9910"!==e.get("\u985e\u5225")&&"\u665a\u9910"!==e.get("\u985e\u5225")})),s=a.where((function(e){return"\u975e\u751f\u6d3b\u8cbb"===e.get("\u5e33\u6236")}));return new E.a({fileName:"ledger_".concat(n),datas:[{sheetData:r.toArray(),sheetHeader:t,sheetName:"\u9910\u98f2\u8cbb"},{sheetData:c.toArray(),sheetHeader:t,sheetName:"\u751f\u6d3b\u8cbb"},{sheetData:s.toArray(),sheetHeader:t,sheetName:"\u975e\u751f\u6d3b\u8cbb"},{sheetData:a.toArray(),sheetHeader:t,sheetName:"\u5168\u90e8"}]})},S=n.p+"static/media/Ahorro_Export_Data_20210601.a840a479.csv",L=(n(336),n(11));N.a.locale("zh-tw");var z=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(O.a)(c,2),i=s[0],o=s[1],j=Object(a.useState)("life"),u=Object(O.a)(j,2),l=u[0],d=u[1],F=function(e){var t=e.target.result;I(t)},I=function(e){var t="",n="";-1!==e.indexOf(" \r\n")?(t=" \r\n",n="\r\n\r\n-- \u6536\u5165 --"):(t=" \n",n="\n\n-- \u6536\u5165 --");var a=e.split(t),r=-1;-1!==(r=a.indexOf("-- \u652f\u51fa --"))&&a.splice(r,1),-1!==(r=a.indexOf(n))&&a.splice(r);var c=a.map((function(e){return e.split(", ")}));k(c)},k=function(e){var t=function(e){var t=e[0],n=e.slice(1),a=new _.a(n,t),r=a.count(),c=[],s=[{date:N()(a.getRow(0).get("\u65e5\u671f")),source:[a.getRow(0).toArray()]}];return a.sortBy("\u65e5\u671f").map((function(e,n){var a,i,o=N()(e.get("\u65e5\u671f")),j=s.findIndex((function(e){return e.date.month()===o.month()}));if(-1===j||n+1===r){var u=s[s.length-1],l=u.date.startOf("month").format("YYYY-MM");c.push({toExcel:H(u.source,t,l),representedAt:l,total:(a=u.source,i=t,new _.a(a,i).stat.sum("\u91d1\u984d"))}),s.push({date:o,source:[e.toArray()]})}else s[j].source.push(e.toArray())})),c.reverse()}(e);o(Object(b.a)(t))},E={xs:24,sm:12};return Object(L.jsx)("div",{children:Object(L.jsxs)(x.a,{gutter:[16,16],children:[Object(L.jsx)(f.a,Object(h.a)(Object(h.a)({},E),{},{children:Object(L.jsxs)(g.a,{title:"\u4e0a\u50b3\u6a94\u6848",children:[Object(L.jsx)(m.a,{customRequest:function(){},fileList:n,onChange:function(e){var t=e.fileList.map((function(e){var t=new FileReader;return t.onload=F,t.readAsText(e.originFileObj),e.status="success",e}));r(t)},children:Object(L.jsx)(p.a,{icon:Object(L.jsx)(A.a,{}),children:"\u6a94\u6848\u4e0a\u50b3"})}),Object(L.jsx)(p.a,{onClick:function(){o([]),r([])},children:"\u6e05\u9664\u8f49\u63db\u6a94\u6848"}),Object(L.jsx)("a",{href:S,download:"Ahorro_Export_Data_20210601.csv",children:Object(L.jsx)(p.a,{style:{margin:"10px"},children:"Download example"})}),Object(L.jsx)("br",{}),Object(L.jsxs)(v.a.Group,{onChange:function(e){o([]),r([]),d(e.target.value)},value:l,children:[Object(L.jsx)(v.a,{value:"default",disabled:!0,children:"\u9810\u8a2d"}),Object(L.jsx)(v.a,{value:"life",children:"\u5340\u5206\u751f\u6d3b\u8cbb\u3001\u9910\u98f2\u8cbb"})]})]})})),Object(L.jsx)(f.a,Object(h.a)(Object(h.a)({},E),{},{children:Object(L.jsx)(g.a,{title:"\u4e0b\u8f09\u8f49\u63db\u6a94\u6848",children:Object(L.jsx)(w.b,{itemLayout:"horizontal",dataSource:i,renderItem:function(e){return Object(L.jsx)(w.b.Item,{children:Object(L.jsx)(w.b.Item.Meta,{avatar:Object(L.jsx)(y.a,{icon:Object(L.jsx)(C.a,{})}),title:"\u8a18\u5e33\u7d00\u9304",description:Object(L.jsxs)("div",{children:[Object(L.jsx)(p.a,{icon:Object(L.jsx)(D.a,{}),onClick:function(){e.toExcel.saveExcel()},children:"\u6a94\u6848\u4e0b\u8f09"})," ",Object(L.jsxs)("span",{children:["\u65e5\u671f: ",e.representedAt]})," ",Object(L.jsxs)("span",{children:["\u7e3d\u984d: ",e.total,"$"]})]})})})}})})}))]})})},M=(n(349),n(350),function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(L.jsxs)(l.a,{children:[Object(L.jsx)(l.a.Header,{style:{position:"fixed",zIndex:1,width:"100%"},children:Object(L.jsx)("div",{className:"logo"})}),Object(L.jsxs)(l.a.Content,{className:"site-layout",style:{padding:"0 50px",marginTop:64},children:[Object(L.jsx)(d.a,{style:{margin:"16px 0"}}),Object(L.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:800},children:Object(L.jsx)(z,{})})]}),Object(L.jsx)(l.a.Footer,{style:{textAlign:"center"},children:"\xa92021"})]})}}]),n}(a.Component));var R=function(){return Object(L.jsx)(M,{})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,367)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(R,{})}),document.getElementById("root")),T()}},[[352,1,2]]]);
//# sourceMappingURL=main.e0ed9c07.chunk.js.map